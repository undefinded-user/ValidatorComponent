{"version":3,"sources":["functions/drillProps.js","components/Validator.js","components/SomeComponent.js","components/App.js","index.js"],"names":["drillProps","children","props","React","Children","map","child","cloneElement","Validator","level","useState","callFromParent","setCallFromParent","info","setInfo","isParent","setIsParent","useEffect","validate","setTimeout","refreshParentCall","childrenWithProps","className","onClick","SomeComponent","App","ReactDOM","render","document","getElementById"],"mappings":"2LAEaA,G,OAAa,SAACC,EAAUC,GACnC,OAAOC,IAAMC,SAASC,IAAIJ,GAAU,SAACK,GACnC,OAAOH,IAAMI,aAAaD,EAAOJ,Q,OCkEtBM,EA/DG,SAAC,GAAiC,IAAhCP,EAA+B,EAA/BA,SAAUQ,EAAqB,EAArBA,MAAUP,EAAW,sCAELQ,oBAAS,GAFJ,mBAE1CC,EAF0C,KAE1BC,EAF0B,OAIzBF,mBAAS,IAJgB,mBAI1CG,EAJ0C,KAIpCC,EAJoC,OAKjBJ,oBAAS,GALQ,mBAK1CK,EAL0C,KAKhCC,EALgC,KAOjDC,qBAAU,WACRf,EAAMS,gBAAgBO,OAIxB,IAAMA,EAAW,WAEd,IAAIhB,EAAMS,eAYT,OAVAK,GAAY,GACZF,EAAQ,4BAAD,OAA6BL,EAA7B,0BAEPU,YAAW,WACTH,GAAY,GACZF,EAAQ,MACP,UAGHF,GAAkB,GAIpBV,EAAMkB,mBAAmBlB,EAAMkB,oBAE/BN,EAAQ,6CAAD,OAA8CL,EAA9C,iBAEPU,YAAW,WACTL,EAAQ,MACP,MAcCO,EAAoBrB,EAAWC,EAAU,CAACU,iBAAgBS,kBARtC,WACxBD,YAAW,WACTP,GAAkB,KACjB,OAOL,OACE,gCACE,8BAAIH,EAAJ,+BACCI,GAAM,mBAAGS,UAAWP,EAAU,YAAc,OAAtC,SAA+CF,IACtD,wBAAQS,UAAU,MAAMC,QAASL,EAAjC,sBACA,qBAAKI,UAAU,SAAf,SACGD,QChDMG,EAbO,SAAC,GAAwB,IAAvBvB,EAAsB,EAAtBA,SAAaC,EAAS,4BAEtCmB,EAAoBrB,EAAWC,EAAUC,GAC/C,OACE,gCACE,sDACA,qBAAKoB,UAAU,SAAf,SACGD,QCSMI,MAhBf,WACE,OAEE,eAAC,EAAD,CAAWhB,MAAM,QAAjB,UACE,cAAC,EAAD,CAAWA,MAAM,SAAjB,SACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,CAAWA,MAAM,gBAIvB,cAAC,EAAD,CAAWA,MAAM,e,OCTvBiB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.e32367da.chunk.js","sourcesContent":["import React from 'react'\r\n// help function that implisitly drill props to the children\r\nexport const drillProps = (children, props) => {\r\n  return React.Children.map(children, (child)=>{\r\n    return React.cloneElement(child, props)\r\n  })\r\n}","import { findAllByDisplayValue } from '@testing-library/dom'\r\nimport React from 'react'\r\nimport {useState, useEffect} from 'react'\r\n\r\nimport {drillProps} from '../functions/drillProps.js'\r\n\r\n\r\nconst Validator = ({children, level, ...props}) => {\r\n  // mark for calling method from parent\r\n  const [callFromParent, setCallFromParent] = useState(false)\r\n  // UI marks\r\n  const [info, setInfo] = useState('')\r\n  const [isParent, setIsParent] = useState(false)\r\n  // call child method if parent method was executed\r\n  useEffect(()=>{\r\n    props.callFromParent&&validate()\r\n  })\r\n\r\n\r\n  const validate = () => {\r\n     // if validate method was called at parent component(prevents a cascade reaction)\r\n     if(!props.callFromParent) {\r\n      // UI logic\r\n      setIsParent(true)\r\n      setInfo(`Validate was executed at ${level} level parent element`)\r\n      // clear info after 2 seconds\r\n      setTimeout(()=>{\r\n        setIsParent(false)\r\n        setInfo('')\r\n      }, 2000)\r\n\r\n      // initiate execution validate method at child component\r\n      setCallFromParent(true)\r\n      return\r\n    }   \r\n    // when vaidate method was called by execcution at parent method\r\n    props.refreshParentCall&&props.refreshParentCall()\r\n    // UI logic\r\n    setInfo(`Validate was called from parent method at ${level} level child`)\r\n    // clear info after 2 seconds\r\n    setTimeout(()=>{\r\n      setInfo('')\r\n    }, 2000)\r\n  }\r\n\r\n  // refresh parent state with little delay \r\n  // to prevent updating component during render child component\r\n  // allows to execute validate method at child as at parent\r\n  const refreshParentCall = () => {\r\n    setTimeout(()=>{\r\n      setCallFromParent(false)\r\n    }, 10)\r\n  }\r\n\r\n\r\n  // / implicitly drill props to children components\r\n  const childrenWithProps = drillProps(children, {callFromParent, refreshParentCall})\r\n\r\n  return(\r\n    <div>\r\n      <p>{level} Level Validate Component</p>\r\n      {info&&<p className={isParent? 'info dang' : 'info'}>{info}</p>}\r\n      <button className='btn' onClick={validate}>Validate</button>\r\n      <div className='nested'>\r\n        {childrenWithProps}\r\n      </div> \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Validator","import React from 'react'\r\nimport {drillProps} from '../functions/drillProps'\r\n\r\nconst SomeComponent = ({children, ...props})=>{\r\n  // drill props to nested level\r\n  const childrenWithProps = drillProps(children, props)\r\n  return (\r\n    <div>\r\n      <p>SomeComponent content</p> \r\n      <div className='nested'>\r\n        {childrenWithProps}\r\n      </div>      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SomeComponent","import React from 'react'\r\nimport Validator from './Validator.js'\r\nimport SomeComponent from './SomeComponent'\r\nfunction App() {\r\n  return (\r\n    \r\n    <Validator level='First'>\r\n      <Validator level='Second'>\r\n        <SomeComponent>\r\n          <SomeComponent>\r\n            <Validator level='Third'></Validator>\r\n          </SomeComponent>\r\n        </SomeComponent>\r\n      </Validator>\r\n      <Validator level='Second'/>\r\n    </Validator>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n\r\n"],"sourceRoot":""}